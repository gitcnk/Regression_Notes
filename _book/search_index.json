[["index.html", "To Regress or not to Regress! 1 Introduction", " To Regress or not to Regress! CK 2024-03-24 1 Introduction Regression models are the most widely used and abused statistical modelling framework in the world. It popularity is based on its simplicity and the elegant mathematical theory behind it. Although the theory is beautiful, it is based on some assumptions which we must always be wary of. Just like the p-values, the Regression modelling framework is a tool and we need to understand its limitations when we use it. Let’s dive in. "],["correlation-coefficient.html", "2 Correlation Coefficient", " 2 Correlation Coefficient The word correlation is used widely in our daily conversations. It means many things depending on the context. In statistic, we have a definite meaning and a limitation to this word. It primarily depends on the datatype. For example, it is a reasonable question to ask that whether there is a correlation between a person’s skin color and their income. But it is hard to quantify this because one variable, race, is a categorical variable and the other, income, is numerical. In statistics, when we talk about correlations, we generally mean the correlation between two numerical variables such as height and weight. "],["an-example.html", "3 An Example 3.1 Another Example", " 3 An Example Here is a sample of data from home prices in Washington state: WA_houses %&gt;% head() %&gt;% kable() price bedrooms bathrooms sqft_living sqft_lot waterfront 475000 4 2.50 2040 16200 0 316000 4 1.50 2120 46173 0 802000 4 2.25 2130 8734 0 905000 4 2.50 3330 9557 0 700000 4 2.25 2440 9450 0 178500 3 1.00 900 10511 0 Here are the estimated coefficients of the model: #uqvipjqxkn table { font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; } #uqvipjqxkn thead, #uqvipjqxkn tbody, #uqvipjqxkn tfoot, #uqvipjqxkn tr, #uqvipjqxkn td, #uqvipjqxkn th { border-style: none; } #uqvipjqxkn p { margin: 0; padding: 0; } #uqvipjqxkn .gt_table { display: table; border-collapse: collapse; line-height: normal; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; } #uqvipjqxkn .gt_caption { padding-top: 4px; padding-bottom: 4px; } #uqvipjqxkn .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; } #uqvipjqxkn .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 3px; padding-bottom: 5px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; } #uqvipjqxkn .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #uqvipjqxkn .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #uqvipjqxkn .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #uqvipjqxkn .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; } #uqvipjqxkn .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; } #uqvipjqxkn .gt_column_spanner_outer:first-child { padding-left: 0; } #uqvipjqxkn .gt_column_spanner_outer:last-child { padding-right: 0; } #uqvipjqxkn .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; } #uqvipjqxkn .gt_spanner_row { border-bottom-style: hidden; } #uqvipjqxkn .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; text-align: left; } #uqvipjqxkn .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; } #uqvipjqxkn .gt_from_md > :first-child { margin-top: 0; } #uqvipjqxkn .gt_from_md > :last-child { margin-bottom: 0; } #uqvipjqxkn .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; } #uqvipjqxkn .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; } #uqvipjqxkn .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; } #uqvipjqxkn .gt_row_group_first td { border-top-width: 2px; } #uqvipjqxkn .gt_row_group_first th { border-top-width: 2px; } #uqvipjqxkn .gt_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #uqvipjqxkn .gt_first_summary_row { border-top-style: solid; border-top-color: #D3D3D3; } #uqvipjqxkn .gt_first_summary_row.thick { border-top-width: 2px; } #uqvipjqxkn .gt_last_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #uqvipjqxkn .gt_grand_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #uqvipjqxkn .gt_first_grand_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-top-style: double; border-top-width: 6px; border-top-color: #D3D3D3; } #uqvipjqxkn .gt_last_grand_summary_row_top { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: double; border-bottom-width: 6px; border-bottom-color: #D3D3D3; } #uqvipjqxkn .gt_striped { background-color: rgba(128, 128, 128, 0.05); } #uqvipjqxkn .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #uqvipjqxkn .gt_footnotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #uqvipjqxkn .gt_footnote { margin: 0px; font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #uqvipjqxkn .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #uqvipjqxkn .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #uqvipjqxkn .gt_left { text-align: left; } #uqvipjqxkn .gt_center { text-align: center; } #uqvipjqxkn .gt_right { text-align: right; font-variant-numeric: tabular-nums; } #uqvipjqxkn .gt_font_normal { font-weight: normal; } #uqvipjqxkn .gt_font_bold { font-weight: bold; } #uqvipjqxkn .gt_font_italic { font-style: italic; } #uqvipjqxkn .gt_super { font-size: 65%; } #uqvipjqxkn .gt_footnote_marks { font-size: 75%; vertical-align: 0.4em; position: initial; } #uqvipjqxkn .gt_asterisk { font-size: 100%; vertical-align: 0; } #uqvipjqxkn .gt_indent_1 { text-indent: 5px; } #uqvipjqxkn .gt_indent_2 { text-indent: 10px; } #uqvipjqxkn .gt_indent_3 { text-indent: 15px; } #uqvipjqxkn .gt_indent_4 { text-indent: 20px; } #uqvipjqxkn .gt_indent_5 { text-indent: 25px; } Characteristic Beta SE1 Statistic p-value (Intercept) -54,163 6,448 -8.40 sqft_living 286 2.84 101 R² 0.504 Sigma 260,452 1 SE = Standard Error Let’s look at the correlation of bedrooms with the price after we adjust for the square footage of the house: #jzwywkbnty table { font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; } #jzwywkbnty thead, #jzwywkbnty tbody, #jzwywkbnty tfoot, #jzwywkbnty tr, #jzwywkbnty td, #jzwywkbnty th { border-style: none; } #jzwywkbnty p { margin: 0; padding: 0; } #jzwywkbnty .gt_table { display: table; border-collapse: collapse; line-height: normal; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; } #jzwywkbnty .gt_caption { padding-top: 4px; padding-bottom: 4px; } #jzwywkbnty .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; } #jzwywkbnty .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 3px; padding-bottom: 5px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; } #jzwywkbnty .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #jzwywkbnty .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #jzwywkbnty .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #jzwywkbnty .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; } #jzwywkbnty .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; } #jzwywkbnty .gt_column_spanner_outer:first-child { padding-left: 0; } #jzwywkbnty .gt_column_spanner_outer:last-child { padding-right: 0; } #jzwywkbnty .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; } #jzwywkbnty .gt_spanner_row { border-bottom-style: hidden; } #jzwywkbnty .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; text-align: left; } #jzwywkbnty .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; } #jzwywkbnty .gt_from_md > :first-child { margin-top: 0; } #jzwywkbnty .gt_from_md > :last-child { margin-bottom: 0; } #jzwywkbnty .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; } #jzwywkbnty .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; } #jzwywkbnty .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; } #jzwywkbnty .gt_row_group_first td { border-top-width: 2px; } #jzwywkbnty .gt_row_group_first th { border-top-width: 2px; } #jzwywkbnty .gt_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #jzwywkbnty .gt_first_summary_row { border-top-style: solid; border-top-color: #D3D3D3; } #jzwywkbnty .gt_first_summary_row.thick { border-top-width: 2px; } #jzwywkbnty .gt_last_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #jzwywkbnty .gt_grand_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #jzwywkbnty .gt_first_grand_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-top-style: double; border-top-width: 6px; border-top-color: #D3D3D3; } #jzwywkbnty .gt_last_grand_summary_row_top { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: double; border-bottom-width: 6px; border-bottom-color: #D3D3D3; } #jzwywkbnty .gt_striped { background-color: rgba(128, 128, 128, 0.05); } #jzwywkbnty .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #jzwywkbnty .gt_footnotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #jzwywkbnty .gt_footnote { margin: 0px; font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #jzwywkbnty .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #jzwywkbnty .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #jzwywkbnty .gt_left { text-align: left; } #jzwywkbnty .gt_center { text-align: center; } #jzwywkbnty .gt_right { text-align: right; font-variant-numeric: tabular-nums; } #jzwywkbnty .gt_font_normal { font-weight: normal; } #jzwywkbnty .gt_font_bold { font-weight: bold; } #jzwywkbnty .gt_font_italic { font-style: italic; } #jzwywkbnty .gt_super { font-size: 65%; } #jzwywkbnty .gt_footnote_marks { font-size: 75%; vertical-align: 0.4em; position: initial; } #jzwywkbnty .gt_asterisk { font-size: 100%; vertical-align: 0; } #jzwywkbnty .gt_indent_1 { text-indent: 5px; } #jzwywkbnty .gt_indent_2 { text-indent: 10px; } #jzwywkbnty .gt_indent_3 { text-indent: 15px; } #jzwywkbnty .gt_indent_4 { text-indent: 20px; } #jzwywkbnty .gt_indent_5 { text-indent: 25px; } Characteristic Beta SE1 Statistic p-value (Intercept) 56,765 9,643 5.89 sqft_living 316 3.40 92.8 bedrooms -51,143 3,336 -15.3 R² 0.515 Sigma 257,456 1 SE = Standard Error It looks quite strange that bedroom coefficient is negative! What’s going on? We need to dig deeper. The square footage variable has lot of variance, it ranges from tiny to mid to large. Here is the distribution of square footage variable: Some summary stats of the size of the houses. It seems like 50% of houses are around 1400 to 2500 square feet. quantile(WA_houses$sqft_living, probs = c(.05,.25,.5,.75,.95)) %&gt;% kable() x 5% 940 25% 1430 50% 1910 75% 2550 95% 3750 So let’s group them into 3 buckets (small houses, mid-sized houses and large houses) WA_houses$size &lt;- cut(WA_houses$sqft_living, breaks = c(0,1400,2500,Inf), labels =c(&#39;small&#39;, &#39;mid-sized&#39;, &#39;large&#39;)) head(WA_houses) %&gt;% kable() price bedrooms bathrooms sqft_living sqft_lot waterfront size 475000 4 2.50 2040 16200 0 mid-sized 316000 4 1.50 2120 46173 0 mid-sized 802000 4 2.25 2130 8734 0 mid-sized 905000 4 2.50 3330 9557 0 large 700000 4 2.25 2440 9450 0 mid-sized 178500 3 1.00 900 10511 0 small Let’s explore the relationship of bedrooms with price: Let’s remove the obvious outlier and redo the analysis: 3.1 Another Example wage_data %&gt;% head() %&gt;% kable() year age maritl race education region jobclass health health_ins logwage wage 2006 18 1. Never Married 1. White 1. &lt; HS Grad 2. Middle Atlantic 1. Industrial 1. &lt;=Good 2. No 4.318063 75.04315 2004 24 1. Never Married 1. White 4. College Grad 2. Middle Atlantic 2. Information 2. &gt;=Very Good 2. No 4.255273 70.47602 2003 45 2. Married 1. White 3. Some College 2. Middle Atlantic 1. Industrial 1. &lt;=Good 1. Yes 4.875061 130.98218 2003 43 2. Married 3. Asian 4. College Grad 2. Middle Atlantic 2. Information 2. &gt;=Very Good 1. Yes 5.041393 154.68529 2005 50 4. Divorced 1. White 2. HS Grad 2. Middle Atlantic 2. Information 1. &lt;=Good 1. Yes 4.318063 75.04315 2008 54 2. Married 1. White 4. College Grad 2. Middle Atlantic 2. Information 2. &gt;=Very Good 1. Yes 4.845098 127.11574 "],["multiple-regression.html", "4 Multiple Regression 4.1 Working with Categorical Data 4.2 Interaction Terms", " 4 Multiple Regression 4.1 Working with Categorical Data Now let’s add a categorical variable into the model. For example, we can ask whether the job sector (industrial vs. information technology) has an impact on wages. In particular, we may hypothesize that persons working in the IT sector may, on average , make more money. Let’s see whether this is true or not. wage_data %&gt;% group_by(jobclass) %&gt;% summarise(&#39;n&#39;= n(), &#39;mean&#39; = mean(wage)) %&gt;% kable() jobclass n mean 1. Industrial 1544 103.3211 2. Information 1456 120.5927 wage_data %&gt;% ggplot() + aes(x = wage, col = jobclass) + geom_density() + theme_economist() # Note: # 1. This plot is using the Economist magazine theme # 2. You can try theme_wsj for Wall Street Journal style plots and many more using the &#39;ggthemes&#39; package. wage_data %&gt;% t.test(wage ~ jobclass, data = .) ## ## Welch Two Sample t-test ## ## data: wage by jobclass ## t = -11.489, df = 2714.9, p-value &lt; 2.2e-16 ## alternative hypothesis: true difference in means between group 1. Industrial and group 2. Information is not equal to 0 ## 95 percent confidence interval: ## -20.21940 -14.32378 ## sample estimates: ## mean in group 1. Industrial mean in group 2. Information ## 103.3211 120.5927 It seems like there is a difference between the two sectors as expected. Does it hold once we adjust for age? For example, could it be that most of the younger workers are in the IT sector and the older workers are in the industrial sector? wage_data %&gt;% ggplot() + aes(x = age, col = jobclass) + geom_density() + theme_economist() wage_data %&gt;% ggplot() + aes(x = age, y = jobclass) + geom_boxplot() + theme_economist() Contrary to what we thought, the shift is in the opposite direction where the mean (and median) age of industrial sector workers is less compared to the IT sector. Now the question is whether the salary difference in the two sectors can be attributed to age or job sector or both. We can use the regression framework to explore this. wage_data %&gt;% sample_n(size = 500) %&gt;% ggplot() + aes( x = age, y = wage, col = jobclass) + geom_point() + geom_smooth(method = &#39;lm&#39;, se = FALSE) The following model will help us determine whether there is a difference in salary due to job secotor after we adjust for the age of the person. model1 &lt;- lm(wage ~ age + jobclass, data = wage_data) #vnzkifznlp table { font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; } #vnzkifznlp thead, #vnzkifznlp tbody, #vnzkifznlp tfoot, #vnzkifznlp tr, #vnzkifznlp td, #vnzkifznlp th { border-style: none; } #vnzkifznlp p { margin: 0; padding: 0; } #vnzkifznlp .gt_table { display: table; border-collapse: collapse; line-height: normal; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; } #vnzkifznlp .gt_caption { padding-top: 4px; padding-bottom: 4px; } #vnzkifznlp .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; } #vnzkifznlp .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 3px; padding-bottom: 5px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; } #vnzkifznlp .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #vnzkifznlp .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #vnzkifznlp .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #vnzkifznlp .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; } #vnzkifznlp .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; } #vnzkifznlp .gt_column_spanner_outer:first-child { padding-left: 0; } #vnzkifznlp .gt_column_spanner_outer:last-child { padding-right: 0; } #vnzkifznlp .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; } #vnzkifznlp .gt_spanner_row { border-bottom-style: hidden; } #vnzkifznlp .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; text-align: left; } #vnzkifznlp .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; } #vnzkifznlp .gt_from_md > :first-child { margin-top: 0; } #vnzkifznlp .gt_from_md > :last-child { margin-bottom: 0; } #vnzkifznlp .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; } #vnzkifznlp .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; } #vnzkifznlp .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; } #vnzkifznlp .gt_row_group_first td { border-top-width: 2px; } #vnzkifznlp .gt_row_group_first th { border-top-width: 2px; } #vnzkifznlp .gt_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #vnzkifznlp .gt_first_summary_row { border-top-style: solid; border-top-color: #D3D3D3; } #vnzkifznlp .gt_first_summary_row.thick { border-top-width: 2px; } #vnzkifznlp .gt_last_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #vnzkifznlp .gt_grand_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #vnzkifznlp .gt_first_grand_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-top-style: double; border-top-width: 6px; border-top-color: #D3D3D3; } #vnzkifznlp .gt_last_grand_summary_row_top { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: double; border-bottom-width: 6px; border-bottom-color: #D3D3D3; } #vnzkifznlp .gt_striped { background-color: rgba(128, 128, 128, 0.05); } #vnzkifznlp .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #vnzkifznlp .gt_footnotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #vnzkifznlp .gt_footnote { margin: 0px; font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #vnzkifznlp .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #vnzkifznlp .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #vnzkifznlp .gt_left { text-align: left; } #vnzkifznlp .gt_center { text-align: center; } #vnzkifznlp .gt_right { text-align: right; font-variant-numeric: tabular-nums; } #vnzkifznlp .gt_font_normal { font-weight: normal; } #vnzkifznlp .gt_font_bold { font-weight: bold; } #vnzkifznlp .gt_font_italic { font-style: italic; } #vnzkifznlp .gt_super { font-size: 65%; } #vnzkifznlp .gt_footnote_marks { font-size: 75%; vertical-align: 0.4em; position: initial; } #vnzkifznlp .gt_asterisk { font-size: 100%; vertical-align: 0; } #vnzkifznlp .gt_indent_1 { text-indent: 5px; } #vnzkifznlp .gt_indent_2 { text-indent: 10px; } #vnzkifznlp .gt_indent_3 { text-indent: 15px; } #vnzkifznlp .gt_indent_4 { text-indent: 20px; } #vnzkifznlp .gt_indent_5 { text-indent: 25px; } Characteristic Beta SE1 Statistic p-value age 0.64 0.064 10.1 jobclass     1. Industrial — — —     2. Information 16 1.47 10.8 R² 0.074 Sigma 40.2 1 SE = Standard Error 4.2 Interaction Terms "],["tricky-situations.html", "5 Tricky Situations", " 5 Tricky Situations Interpreting regression coefficients is quite tricky. If you are not careful, you might end up with saying stilly things or foolish things. Let’s look at couple of examples: "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
